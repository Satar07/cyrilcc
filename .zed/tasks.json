[
    {
        "label": "CMake: Configure",
        "command": "cmake",
        "args": ["-S", ".", "-B", "build"],
        "cwd": "${ZED_WORKTREE_ROOT}"
    },
    {
        "label": "CMake: Build",
        "command": "cmake",
        "args": ["--build", "build", "-j8"],
        "cwd": "${ZED_WORKTREE_ROOT}"
    },
    {
        "label": "Meson: setup build",
        "command": "meson",
        "args": ["setup", "build"],
        "cwd": "${ZED_WORKTREE_ROOT}"
    },
    {
        "label": "Meson: compile",
        "command": "meson",
        "args": ["compile", "-C", "build"],
        "cwd": "${ZED_WORKTREE_ROOT}"
    },
    {
        "label": "Run",
        "command": "./build/cyrilcc",
        "args": ["test/optimized/loop.m", "-o", "build/out.s"],
        "cwd": "${ZED_WORKTREE_ROOT}"
    },
    {
        "label": "Test",
        "command": "./test.sh",
        "args": [""],
        "cwd": "${ZED_WORKTREE_ROOT}"
    },
    {
        "label": "Meson Test",
        "command": "meson",
        "args": ["test", "-C", "build"],
        "cwd": "${ZED_WORKTREE_ROOT}"
    },
    {
        "label": "Clean",
        "command": "rm",
        "args": ["-rf", "build"],
        "cwd": "${ZED_WORKTREE_ROOT}"
    }
]
